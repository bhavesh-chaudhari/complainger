generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum GenderType {
  male
  female
  other
}

model user {
  id              Int               @id @default(autoincrement())
  first_name      String
  last_name       String
  gender          GenderType?
  email           String            @unique
  mobile_number   String?
  category        String
  department      String
  password        String?
  type            String?
  complaints      complaint[]
  student_profile student_profile?
  faculty_profile faculty_profile?
  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt
}

model student_profile {
  id            Int    @id @default(autoincrement())
  enrollment_no String @unique
  user          user   @relation(fields: [userId], references: [id])
  userId        Int    @unique
}

model faculty_profile {
  id     Int  @id @default(autoincrement())
  user   user @relation(fields: [userId], references: [id])
  userId Int  @unique
}

model complaint {
  id          Int    @id @default(autoincrement())
  description String
  type        String
  created_by  user   @relation(fields: [userId], references: [id])
  userId      Int
}
